<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Thanks Page</title>
<style>
  body{
    margin:0;height:100vh;background:black;color:white;
    font-family:'Poppins',sans-serif;display:flex;flex-direction:column;
    justify-content:center;align-items:center;overflow:hidden;
  }
  h1,h2{
    opacity:0;transform:translateY(40px);
    animation:fadeInUp 1s forwards;
  }
  h1{animation-delay:.4s;font-size:3em;color:#00ffcc;}
  h2{animation-delay:1.3s;font-size:2em;}
  @keyframes fadeInUp{from{opacity:0;transform:translateY(40px);}to{opacity:1;transform:translateY(0);}}
  .buttons{margin-top:30px;opacity:0;animation:fade 1s 2.4s forwards;}
  @keyframes fade{to{opacity:1;}}
  button{
    background:#00ffcc;border:none;color:black;padding:10px 24px;margin:10px;
    border-radius:10px;font-size:1.05em;cursor:pointer;transition:.3s;
  }
  button:hover{background:#00997a;color:white;transform:scale(1.05);}
  .message-box{
    display:none;background:black;border:3px solid;
    border-image:linear-gradient(90deg,#ff00cc,#00ccff,#00ff99,#ffcc00) 1;
    padding:20px;margin-top:40px;width:85%;max-width:650px;
    border-radius:15px;text-align:center;font-size:1.05em;
    animation:glow 2s infinite alternate;
  }
  @keyframes glow{from{box-shadow:0 0 10px #00ffff;}to{box-shadow:0 0 25px #ff00ff;}}
  .past-btn{
    display:none;margin-top:25px;padding:12px 28px;font-size:1.05em;
    border-radius:12px;cursor:pointer;
    border:3px solid;border-image:linear-gradient(90deg,#ff00cc,#00ccff,#00ff99,#ffcc00) 1;
    background:black;color:white;
    animation:blink 1.2s infinite alternate;transition:.3s;
  }
  .past-btn:hover{transform:scale(1.05);border-image:linear-gradient(90deg,#00ffcc,#ffcc00,#ff00ff,#00ffff) 1;}
  @keyframes blink{0%,100%{opacity:1;}50%{opacity:.5;}}
  .highlight1{color:#00ffff;} .highlight2{color:#ff00ff;}
  .highlight3{color:#ffcc00;} .highlight4{color:#00ff99;}
  .highlight5{color:#ff3366;}

  /* popup */
  .popup{
    display:none;position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.88);backdrop-filter:blur(3px);
    justify-content:center;align-items:center;z-index:999;
  }
  .popup-content{
    background:rgba(255,255,255,0.03);
    border:1px solid rgba(255,255,255,0.05);
    border-radius:15px;padding:30px;text-align:center;
    box-shadow:0 0 25px rgba(255,0,0,0.25);
    animation:pop .6s ease forwards;
    width: min(420px, 92%);
  }
  @keyframes pop{from{transform:scale(0.6);opacity:0;}to{transform:scale(1);opacity:1;}}
  .lock{
    font-size:3em;margin-bottom:12px;color:#ff3333;
    transition:0.4s;
  }
  .unlock{color:#00ff99;transform:rotateY(360deg);}
  .popup h3{color:#ff3333;margin:8px 0 12px;}
  .popup input{
    padding:12px 15px;width:100%;font-size:1rem;
    border:2px solid #ff3333;border-radius:10px;
    background:black;color:white;outline:none;
    box-shadow:0 0 12px rgba(255,51,51,0.18);
    transition:.3s;
  }
  .popup input:focus{box-shadow:0 0 28px rgba(255,51,51,0.35);}
  .popup .actions{display:flex;gap:10px;margin-top:14px;justify-content:center;align-items:center;}
  .popup .actions button{flex:1}
  #error{color:#ff6666;margin-top:10px;display:none;font-weight:600;}
  .shake{animation:shake 0.35s;}
  @keyframes shake{0%,100%{transform:translateX(0);}25%{transform:translateX(-8px);}75%{transform:translateX(8px);}}
</style>
</head>
<body>
  <h1>Thanks</h1>
  <h2>Are you Muslim?</h2>

  <div class="buttons">
    <button onclick="closeSite()">QUIT</button>
    <button onclick="closeSite()">BACK</button>
    <button onclick="showMessage()">MORE</button>
  </div>

  <div class="message-box" id="messageBox">
    <p style="margin:0 0 10px;"><strong>And whenever I talk to you, please don‚Äôt interrupt in between,<br>
    because the moment you start speaking, I forget what I was going to say.</strong></p>

    <p style="margin:12px 0 0;"><strong><span class="highlight1">For Trust</span> ‚Äî <span class="highlight2">Thank You</span></strong></p>
    <p style="margin:8px 0 0;">I didn‚Äôt ask you what was <span class="highlight3">important</span>,<br>
    but said everything that wasn‚Äôt.</p>
    <p style="margin:8px 0 8px;">If we ever meet by chance someday, I‚Äôll ask you face to <span class="highlight4">face</span>.<br>
    Again, one last thanks ‚Äî <span class="highlight5">bye</span>. üí¨</p>

    <button class="past-btn" id="pastBtn" onclick="openPopup()">PAST</button>
  </div>

  <!-- password popup -->
  <div class="popup" id="popup">
    <div class="popup-content" id="popupBox">
      <div id="lockIcon" class="lock">üîí</div>
      <h3>Enter Password</h3>
      <input type="password" id="pw" placeholder="Enter password">
      <div class="actions">
        <button onclick="checkPass()">Unlock</button>
        <button onclick="closePopup()">Cancel</button>
      </div>
      <div id="error">‚ùå Wrong password, try again.</div>
    </div>
  </div>

<script>
  // Show message area + PAST
  function showMessage(){
    const box=document.getElementById('messageBox');
    const past=document.getElementById('pastBtn');
    box.style.display='block';
    past.style.display='inline-block';
    window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});
  }

  // Close attempts: multiple fallbacks to maximize chance of closing
  function closeSite(){
    try {
      // 1) Try standard close
      window.close();
    } catch(e){}
    try {
      // 2) Try self-close by replacing with blank then closing
      window.open('','_self');
      window.close();
    } catch(e){}
    try {
      // 3) As another fallback, navigate away to about:blank and then try close
      location.href = 'about:blank';
      setTimeout(()=>{ try{ window.close(); }catch(e){} }, 300);
    } catch(e){}
    // 4) As final fallback, remove page content to simulate closed state
    document.documentElement.innerHTML = '<div style="background:black;color:white;height:100vh;display:flex;align-items:center;justify-content:center;font-family:sans-serif;">Goodbye üëã</div>';
  }

  // Popup open/close
  function openPopup(){
    document.getElementById('popup').style.display='flex';
    document.getElementById('pw').value = '';
    document.getElementById('pw').focus();
    document.getElementById('lockIcon').textContent = 'üîí';
    document.getElementById('lockIcon').classList.remove('unlock');
  }
  function closePopup(){
    document.getElementById('popup').style.display='none';
  }

  // Password check + unlock animation + open link
  function checkPass(){
    const p = document.getElementById('pw').value.trim();
    const err = document.getElementById('error');
    const lock = document.getElementById('lockIcon');
    const box = document.getElementById('popupBox');
    const valid = ["75","lucky","Lucky"];

    if(valid.includes(p)){
      err.style.display = 'none';
      lock.textContent = 'üîì';
      lock.classList.add('unlock');
      // small success pulse
      lock.style.transition = 'transform .6s ease, color .6s ease';
      setTimeout(()=>{
        // close popup visually
        document.getElementById('popup').style.display='none';
        // open the target link in a new tab
        window.open("https://75raj.github.io/chl/","_blank");
      }, 700);
    } else {
      // show error + shake
      err.style.display = 'block';
      box.classList.add('shake');
      setTimeout(()=>{ box.classList.remove('shake'); }, 350);
      setTimeout(()=>{ err.style.display = 'none'; }, 1800);
      document.getElementById('pw').value = '';
      document.getElementById('pw').focus();
    }
  }

  // keyboard: Enter to submit, Esc to cancel
  document.addEventListener('keydown', (e) => {
    if(e.key === 'Enter'){
      const pop = document.getElementById('popup');
      if(pop.style.display === 'flex') checkPass();
    }
    if(e.key === 'Escape'){
      const pop = document.getElementById('popup');
      if(pop.style.display === 'flex') closePopup();
    }
  });
</script>
</body>
</html>
